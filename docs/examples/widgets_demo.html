<!doctype html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>OKW4Robot Widgets Demo</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 2rem; }
      .row { margin-bottom: 1rem; }
      label { display: inline-block; width: 140px; font-weight: 600; }
      input[type="text"], textarea, select { min-width: 260px; padding: .4rem .5rem; }
      fieldset { border: 1px solid #ccc; padding: .75rem 1rem; }
      legend { font-weight: 600; }
      .actions { margin-top: 1rem; }
      .output { white-space: pre-line; border: 1px solid #ddd; padding: .75rem; background: #fafafa; }
    </style>
  </head>
  <body data-testid="widgets-demo-page">
    <h1>OKW4Robot Widgets Demo</h1>

    <div class="row">
      <label for="tf-name">Name</label>
      <input id="tf-name" data-testid="tf-name" type="text" placeholder="Nachname" />
    </div>

    <div class="row">
      <label for="tf-vorname">Vorname</label>
      <input id="tf-vorname" data-testid="tf-vorname" type="text" placeholder="Vorname" />
    </div>

    <div class="row">
      <label for="ta-anmerkung">Anmerkung</label>
      <textarea id="ta-anmerkung" data-testid="ta-anmerkung" rows="4" placeholder="Mehrzeilige Eingabe..."></textarea>
    </div>

    <div class="row">
      <label for="cb-verheiratet">Verheiratet</label>
      <input id="cb-verheiratet" data-testid="cb-verheiratet" type="checkbox" />
    </div>

    <div class="row">
      <fieldset>
        <legend>Zahlungsmethode</legend>
        <label><input type="radio" name="zahlungsmethode" value="paypal" data-testid="rl-zahlung-paypal" /> PayPal</label>
        <label><input type="radio" name="zahlungsmethode" value="visa" data-testid="rl-zahlung-visa" /> Visa</label>
        <label><input type="radio" name="zahlungsmethode" value="sepa" data-testid="rl-zahlung-sepa" /> SEPA</label>
      </fieldset>
    </div>

    <div class="row">
      <label for="combo-geschlecht">Geschlecht</label>
      <select id="combo-geschlecht" data-testid="combo-geschlecht">
        <option value="">-- Bitte wählen --</option>
        <option value="Männlich">Männlich</option>
        <option value="Weiblich">Weiblich</option>
        <option value="Divers">Divers</option>
      </select>
    </div>

    <div class="actions">
      <button id="btn-ok" data-testid="btn-ok" type="button">OK</button>
    </div>

    <h2>Ausgabe</h2>
    <div id="status-text" data-testid="status-text" class="output" aria-live="polite"></div>

    <script>
      (function () {
        const byId = (id) => document.getElementById(id);
        const q = (sel, root=document) => root.querySelector(sel);

        function currentRadio(name) {
          const sel = q(`input[type="radio"][name="${name}"]:checked`);
          return sel ? sel.value : "";
        }

        function selectedComboText(selEl) {
          if (!selEl) return "";
          const opt = selEl.selectedOptions && selEl.selectedOptions[0];
          return opt ? (opt.label || opt.textContent || opt.value) : "";
        }

        function onOk() {
          const values = [
            ['Name', byId('tf-name').value],
            ['Vorname', byId('tf-vorname').value],
            ['Anmerkung', byId('ta-anmerkung').value],
            ['Verheiratet', byId('cb-verheiratet').checked ? 'Checked' : 'Unchecked'],
            ['Zahlungsmethode', currentRadio('zahlungsmethode')],
            ['Geschlecht', selectedComboText(byId('combo-geschlecht'))],
          ];

          const lines = values.map(([k, v]) => `"${k}" = "${v}"`);
          byId('status-text').textContent = lines.join('\n');
        }

        byId('btn-ok').addEventListener('click', onOk);
      })();
    </script>
  </body>
  </html>
